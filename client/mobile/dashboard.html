<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€ì‹œë³´ë“œ - Semonara</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-enter {
            opacity: 0;
            transform: translateY(10px);
        }
        .fade-enter-active {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.3s ease;
        }
        .gradient-animation {
            background: linear-gradient(-45deg, #10b981, #3b82f6, #8b5cf6, #06b6d4);
            background-size: 400% 400%;
            animation: gradient 6s ease infinite;
        }
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .pulse-dot {
            animation: pulse-dot 2s infinite;
        }
        @keyframes pulse-dot {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">

    <!-- í—¤ë” -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-md mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <h1 class="text-xl font-bold text-gray-800">ğŸŒŸ Semonara</h1>
            </div>
            <button id="logout-btn" class="text-sm text-gray-600 hover:text-red-600 transition duration-200">
                ğŸšª ë¡œê·¸ì•„ì›ƒ
            </button>
        </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <main class="max-w-md mx-auto p-4 space-y-6">

        <!-- ì‚¬ìš©ì ì •ë³´ -->
        <div class="bg-white rounded-xl shadow-md p-4 fade-enter-active">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-500">ë¡œê·¸ì¸ëœ ì‚¬ìš©ì</p>
                    <p id="user-email" class="font-medium text-gray-800">daeho1001@naver.com</p>
                </div>
                <div class="text-right">
                    <p class="text-xs text-gray-500">ì„¸ì…˜ ìƒíƒœ</p>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-green-500 rounded-full pulse-dot"></div>
                        <span class="text-sm text-green-600 font-medium">í™œì„±</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì„œë²„ ìƒíƒœ ì¹´ë“œ -->
        <div class="gradient-animation rounded-2xl p-6 text-white shadow-lg fade-enter-active">
            <h2 class="text-lg font-semibold mb-4 flex items-center">
                ğŸ“Š ì„œë²„ ìƒíƒœ
                <span id="server-status-dot" class="ml-2 w-3 h-3 bg-green-400 rounded-full pulse-dot"></span>
            </h2>
            
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-white/20 rounded-lg p-3 backdrop-blur-sm">
                    <p class="text-sm opacity-90">ìƒíƒœ</p>
                    <p id="server-status" class="font-bold text-lg">ì •ìƒ</p>
                </div>
                <div class="bg-white/20 rounded-lg p-3 backdrop-blur-sm">
                    <p class="text-sm opacity-90">ì—…íƒ€ì„</p>
                    <p id="server-uptime" class="font-bold text-lg">2ì¼ 5ì‹œê°„</p>
                </div>
                <div class="bg-white/20 rounded-lg p-3 backdrop-blur-sm">
                    <p class="text-sm opacity-90">ë©”ëª¨ë¦¬</p>
                    <p id="server-memory" class="font-bold text-lg">45%</p>
                </div>
                <div class="bg-white/20 rounded-lg p-3 backdrop-blur-sm">
                    <p class="text-sm opacity-90">ë””ìŠ¤í¬</p>
                    <p id="server-disk" class="font-bold text-lg">23%</p>
                </div>
            </div>
        </div>

        <!-- ê¸°ë¡í•˜ê¸° ë²„íŠ¼ -->
        <button id="quick-save-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition duration-200 text-lg fade-enter-active">
            <div class="flex items-center justify-center space-x-2">
                <span class="text-2xl">ğŸ“</span>
                <span>ê¸°ë¡í•˜ê¸°</span>
            </div>
            <p class="text-sm opacity-90 mt-1">ì•„ì´ë””ì–´ë¥¼ í˜„ì‹¤ë¡œ</p>
        </button>

        <!-- ìµœê·¼ ì•„ì¹´ì´ë¸Œ -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden fade-enter-active">
            <div class="px-4 py-3 border-b border-gray-200">
                <h3 class="font-semibold text-gray-800 flex items-center">
                    ğŸ“‹ ìµœê·¼ ì•„ì¹´ì´ë¸Œ
                    <span id="total-archives" class="ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full">147</span>
                </h3>
            </div>
            
            <div class="divide-y divide-gray-100">
                <!-- ì•„ì¹´ì´ë¸Œ í•­ëª© 1 - ìµœê·¼ ê¸€ì´ íˆ¬ìì¼ì§€ ì¹´í…Œê³ ë¦¬ -->
                <div class="p-4 hover:bg-gray-50 transition duration-200 cursor-pointer" onclick="openArchive(1)">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-800 mb-1">íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„</h4>
                            <div class="flex items-center space-x-2 text-sm text-gray-500">
                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs">ğŸ“ˆ íˆ¬ìì¼ì§€</span>
                                <span>2ì‹œê°„ ì „</span>
                            </div>
                        </div>
                        <div class="text-gray-400">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- ì•„ì¹´ì´ë¸Œ í•­ëª© 2 - ê°œë°œë…¸íŠ¸ ì¹´í…Œê³ ë¦¬ -->
                <div class="p-4 hover:bg-gray-50 transition duration-200 cursor-pointer" onclick="openArchive(2)">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-800 mb-1">React ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ íŒ¨í„´</h4>
                            <div class="flex items-center space-x-2 text-sm text-gray-500">
                                <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs">ğŸ’» ê°œë°œë…¸íŠ¸</span>
                                <span>1ì¼ ì „</span>
                            </div>
                        </div>
                        <div class="text-gray-400">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </div>
                    </div>
                </div>

                <!-- ì•„ì¹´ì´ë¸Œ í•­ëª© 3 - ì„œë²„ê¸°ë¡ ì¹´í…Œê³ ë¦¬ -->
                <div class="p-4 hover:bg-gray-50 transition duration-200 cursor-pointer" onclick="openArchive(3)">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-800 mb-1">ì„œë²„ ì„±ëŠ¥ ìµœì í™” ë°©ì•ˆ</h4>
                            <div class="flex items-center space-x-2 text-sm text-gray-500">
                                <span class="bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs">ğŸ–¥ï¸ ì„œë²„ê¸°ë¡</span>
                                <span>3ì¼ ì „</span>
                            </div>
                        </div>
                        <div class="text-gray-400">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ë”ë³´ê¸° ë§í¬ -->
            <div class="px-4 py-3 bg-gray-50 text-center">
                <button id="view-all-archives" class="text-blue-600 hover:text-blue-800 font-medium text-sm transition duration-200">
                    ì „ì²´ ì•„ì¹´ì´ë¸Œ ë³´ê¸° â†’
                </button>
            </div>
        </div>

    </main>

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 safe-area-pb">
        <div class="max-w-md mx-auto flex">
            <button class="flex-1 py-3 px-4 text-center border-r border-gray-200">
                <div class="flex flex-col items-center space-y-1">
                    <span class="text-lg">ğŸ </span>
                    <span class="text-xs text-blue-600 font-medium">í™ˆ</span>
                </div>
            </button>
            <button class="flex-1 py-3 px-4 text-center border-r border-gray-200" onclick="window.location.href='/mobile/archive-list.html'">
                <div class="flex flex-col items-center space-y-1">
                    <span class="text-lg">ğŸ“‹</span>
                    <span class="text-xs text-gray-500">ì•„ì¹´ì´ë¸Œ</span>
                </div>
            </button>
            <button class="flex-1 py-3 px-4 text-center border-r border-gray-200">
                <div class="flex flex-col items-center space-y-1">
                    <span class="text-lg">âš™ï¸</span>
                    <span class="text-xs text-gray-500">ì„œë²„</span>
                </div>
            </button>
            <button class="flex-1 py-3 px-4 text-center">
                <div class="flex flex-col items-center space-y-1">
                    <span class="text-lg">ğŸ”§</span>
                    <span class="text-xs text-gray-500">ì„¤ì •</span>
                </div>
            </button>
        </div>
    </nav>

    <!-- Safe area for iPhone -->
    <div class="h-20"></div>

    <script>
        console.log('Semonara Dashboard ë¡œë“œë¨');
        
        // API ê¸°ë³¸ ì„¤ì •
        const API_BASE = 'http://223.130.163.170:3000';
        
        // DOM ìš”ì†Œë“¤
        const userEmailElement = document.getElementById('user-email');
        const quickSaveBtn = document.getElementById('quick-save-btn');
        const viewAllArchives = document.getElementById('view-all-archives');
        const logoutBtn = document.getElementById('logout-btn');
        
        // í† í° í™•ì¸ ë° ì‚¬ìš©ì ì •ë³´ ë¡œë“œ
        async function loadUserInfo() {
            const token = localStorage.getItem('semonara_token');
            
            if (!token) {
                // í† í°ì´ ì—†ìœ¼ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ
                window.location.href = '/mobile/login.html';
                return;
            }
            
            try {
                // í† í° ìœ íš¨ì„± ê²€ì‚¬ (í–¥í›„ API êµ¬í˜„ì‹œ)
                console.log('ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ í™•ì¸ ì¤‘...');
                // TODO: API í˜¸ì¶œë¡œ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                
                // ì„ì‹œë¡œ í•˜ë“œì½”ë”©ëœ ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
                userEmailElement.textContent = 'daeho1001@naver.com';
                
            } catch (error) {
                console.error('ì‚¬ìš©ì ì •ë³´ ë¡œë“œ ì‹¤íŒ¨:', error);
                // í† í°ì´ ë¬´íš¨í•˜ë©´ ì œê±°í•˜ê³  ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ
                localStorage.removeItem('semonara_token');
                window.location.href = '/mobile/login.html';
            }
        }
        
        // ì„œë²„ ìƒíƒœ ë¡œë“œ (ë”ë¯¸ ë°ì´í„°)
        async function loadServerStatus() {
            console.log('ì„œë²„ ìƒíƒœ ë¡œë“œ ì¤‘...');
            
            // TODO: ì‹¤ì œ API í˜¸ì¶œ
            // í˜„ì¬ëŠ” ë”ë¯¸ ë°ì´í„° í‘œì‹œ
            const serverData = {
                status: 'ì •ìƒ',
                uptime: '2ì¼ 5ì‹œê°„',
                memory: '45%',
                disk: '23%'
            };
            
            document.getElementById('server-status').textContent = serverData.status;
            document.getElementById('server-uptime').textContent = serverData.uptime;
            document.getElementById('server-memory').textContent = serverData.memory;
            document.getElementById('server-disk').textContent = serverData.disk;
            
            console.log('ì„œë²„ ìƒíƒœ ë¡œë“œ ì™„ë£Œ');
        }
        
        // ê¸°ë¡í•˜ê¸° ë²„íŠ¼ í´ë¦­
        quickSaveBtn.addEventListener('click', () => {
            console.log('ê¸°ë¡í•˜ê¸° ë²„íŠ¼ í´ë¦­ë¨');
            window.location.href = '/mobile/save.html';
        });
        
        // ì „ì²´ ì•„ì¹´ì´ë¸Œ ë³´ê¸°
        viewAllArchives.addEventListener('click', () => {
            console.log('ì „ì²´ ì•„ì¹´ì´ë¸Œ ë³´ê¸° í´ë¦­ë¨');
            window.location.href = '/mobile/archive-list.html';
        });
        
        // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ í´ë¦­
        logoutBtn.addEventListener('click', () => {
            if (confirm('ì •ë§ ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.removeItem('semonara_token');
                window.location.href = '/mobile/login.html';
            }
        });
        
        // ì•„ì¹´ì´ë¸Œ í•­ëª© í´ë¦­
        function openArchive(id) {
            console.log('ì•„ì¹´ì´ë¸Œ í•­ëª© í´ë¦­:', id);
            // TODO: ì•„ì¹´ì´ë¸Œ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
            alert(`ì•„ì¹´ì´ë¸Œ ${id}ë²ˆ ìƒì„¸ë³´ê¸° (í–¥í›„ êµ¬í˜„ ì˜ˆì •)`);
        }
        
        // í˜ì´ì§€ ë¡œë“œì‹œ ì´ˆê¸°í™”
        window.addEventListener('load', () => {
            console.log('ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
            loadUserInfo();
            loadServerStatus();
            
            // í˜ì´ë“œ ì¸ ì• ë‹ˆë©”ì´ì…˜
            document.querySelectorAll('.fade-enter-active').forEach((element, index) => {
                setTimeout(() => {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
        
        console.log('Dashboard JavaScript ì´ˆê¸°í™” ì™„ë£Œ');
    </script>

</body>
</html>
